<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶€ì‚° ê°ˆë§·ê¸¸ 100M | í¬í†  ê°¤ëŸ¬ë¦¬</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
            gap: 16px;
            padding-bottom: 40px;
        }
        .gallery-item {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            background: #1e293b;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .gallery-item:hover {
            transform: translateY(-4px);
        }
        .gallery-img {
            width: 100%;
            height: 200px;
            object-fit: cover;
            display: block;
        }
        .gallery-overlay {
            padding: 12px;
            font-size: 0.9rem;
            color: #e2e8f0;
        }
        /* Lightbox */
        .lightbox {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.9);
            z-index: 1000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }
        .lightbox img {
            max-width: 100%;
            max-height: 90vh;
            border-radius: 8px;
        }
        .close-lightbox {
            position: absolute;
            top: 20px;
            right: 20px;
            color: #fff;
            font-size: 2rem;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <nav class="nav-desktop glass">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <span class="gradient-text">ê°ˆë§·ê¸¸ 100M</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">í™ˆ</a></li>
                <li><a href="course.html">ì½”ìŠ¤</a></li>
                <li><a href="schedule.html">ì¼ì •</a></li>
                <li><a href="registration.html">ì°¸ê°€ì‹ ì²­</a></li>
                <li><a href="notices.html">ê³µì§€ì‚¬í•­</a></li>
                <li><a href="community.html">ì»¤ë®¤ë‹ˆí‹°</a></li>
                <li><a href="gallery.html" class="active">ê°¤ëŸ¬ë¦¬</a></li>
                <li><a href="results.html">ê²°ê³¼ì¡°íšŒ</a></li>
            </ul>
        </div>
    </nav>

    <main style="padding-top:120px; min-height:100vh;">
        <section style="text-align:center; padding:0 24px 40px;">
            <h1 class="gradient-text" style="font-size:2.5rem; margin-bottom:16px;">í¬í†  ê°¤ëŸ¬ë¦¬</h1>
            <p style="color:var(--slate-400);">ëŒ€íšŒì˜ ìƒìƒí•œ í˜„ì¥ì„ í™•ì¸í•˜ì„¸ìš”.</p>
        </section>

        <section style="padding:0 24px; max-width:1200px; margin:0 auto;">
            <!-- Upload / Link Button -->
            <div style="text-align:right; margin-bottom:24px;">
                <button onclick="openSubmitModal()" class="btn-primary">ğŸ“¸ ì‚¬ì§„ ì œë³´í•˜ê¸°</button>
            </div>

            <!-- Gallery Grid -->
            <div class="gallery-grid" id="gallery-container">
                <!-- Filled by JS -->
            </div>
        </section>
    </main>

    <!-- Lightbox -->
    <div id="lightbox" class="lightbox" onclick="closeLightbox()">
        <span class="close-lightbox">&times;</span>
        <img id="lightbox-img" src="">
    </div>

    <!-- Submit Modal -->
    <div id="submit-modal" style="display:none; position:fixed; inset:0; background:rgba(0,0,0,0.8); z-index:999; align-items:center; justify-content:center;">
        <div class="glass-card" style="padding:32px; width:90%; max-width:400px; position:relative;">
            <h3 style="margin-bottom:16px;">ì‚¬ì§„ ë§í¬ ì œë³´</h3>
            <p style="font-size:0.875rem; color:#94a3b8; margin-bottom:16px;">
                ì¸ìŠ¤íƒ€ê·¸ë¨, ë¸”ë¡œê·¸ ë“±ì˜ ì‚¬ì§„ ë§í¬ë¥¼ ê³µìœ í•´ì£¼ì„¸ìš”.<br>
                ê´€ë¦¬ì í™•ì¸ í›„ ê°¤ëŸ¬ë¦¬ì— ë“±ë¡ë©ë‹ˆë‹¤.
            </p>
            <input type="text" id="photo-link" placeholder="https://..." class="form-input" style="margin-bottom:12px;">
            <input type="text" id="photo-desc" placeholder="ì‚¬ì§„ ì„¤ëª… (ì„ íƒ)" class="form-input" style="margin-bottom:24px;">
            <div style="display:flex; gap:12px; justify-content:flex-end;">
                <button onclick="document.getElementById('submit-modal').style.display='none'" class="btn-secondary">ì·¨ì†Œ</button>
                <button onclick="submitPhoto()" class="btn-primary">ì œì¶œ</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        // Demo Data
        const DEMO_PHOTOS = [
            { src: 'assets/gallery_1.jpg', desc: '2025 ì¶œë°œì„ ' },
            { src: 'assets/gallery_2.jpg', desc: 'í•´ì•ˆ ì ˆë²½ ì½”ìŠ¤' },
            { src: 'https://images.unsplash.com/photo-1551334787-21e6bd3ab135?auto=format&fit=crop&q=80&w=600', desc: 'ëŸ¬ë„ˆë“¤ì˜ ì—´ì •' },
            { src: 'https://images.unsplash.com/photo-1452626038306-3aae5e295729?auto=format&fit=crop&q=80&w=600', desc: 'í”¼ë‹ˆì‹œ ë¼ì¸' },
            { src: 'https://images.unsplash.com/photo-1476480862126-209bfaa8edc8?auto=format&fit=crop&q=80&w=600', desc: 'ì•„ë¦„ë‹¤ìš´ ë¶€ì‚° ë°”ë‹¤' },
            { src: 'https://images.unsplash.com/photo-1461896836934-ffe607ba8211?auto=format&fit=crop&q=80&w=600', desc: 'ì—­ë™ì ì¸ ë ˆì´ìŠ¤' }
        ];

        document.addEventListener('DOMContentLoaded', () => {
            renderGallery(DEMO_PHOTOS);
        });

        function renderGallery(photos) {
            const container = document.getElementById('gallery-container');
            container.innerHTML = photos.map(p => `
                <div class="gallery-item" onclick="openLightbox('${p.src}')">
                    <img src="${p.src}" class="gallery-img" loading="lazy" onerror="this.src='https://via.placeholder.com/400x300?text=No+Image'">
                    <div class="gallery-overlay">
                        ${p.desc}
                    </div>
                </div>
            `).join('');
        }

        function openLightbox(src) {
            document.getElementById('lightbox-img').src = src;
            document.getElementById('lightbox').style.display = 'flex';
        }

        function closeLightbox() {
            document.getElementById('lightbox').style.display = 'none';
        }

        function openSubmitModal() {
            document.getElementById('submit-modal').style.display = 'flex';
        }

        async function submitPhoto() {
            const link = document.getElementById('photo-link').value;
            const desc = document.getElementById('photo-desc').value;

            if (!link) {
                alert('ë§í¬ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // Reuse 'submitPost' action for now or just mock it since we don't have a dedicated Photo Sheet yet
            // In a real app, I'd create a 'Photos' sheet.
            // For now, I will simulate success.

            const btn = event.target;
            btn.textContent = 'ì œì¶œ ì¤‘...';
            btn.disabled = true;

            await new Promise(r => setTimeout(r, 1000)); // Simulate net delay

            alert('ì œë³´í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤! ê´€ë¦¬ì í™•ì¸ í›„ ë“±ë¡ë©ë‹ˆë‹¤.');
            document.getElementById('submit-modal').style.display = 'none';
            btn.textContent = 'ì œì¶œ';
            btn.disabled = false;
        }
    </script>
</body>
</html>