<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ë¶€ì‚° ê°ˆë§·ê¸¸ 100M | ì»¤ë®¤ë‹ˆí‹°</title>
    <meta name="description" content="ë¶€ì‚° ê°ˆë§·ê¸¸ 100M ì¹´í’€/ìˆ™ì†Œ ê²Œì‹œíŒ">
    <link rel="stylesheet" href="css/styles.css">
</head>

<body>
    <!-- Navigation -->
    <nav class="nav-desktop glass">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="assets/logo.png" alt="ê°ˆë§·ê¸¸ 100M" onerror="this.style.display='none'">
                <span class="gradient-text">ê°ˆë§·ê¸¸ 100M</span>
            </a>
            <ul class="nav-links">
                <li><a href="index.html">í™ˆ</a></li>
                <li><a href="course.html">ì½”ìŠ¤</a></li>
                <li><a href="schedule.html">ì¼ì •</a></li>
                <li><a href="registration.html">ì°¸ê°€ì‹ ì²­</a></li>
                <li><a href="notices.html">ê³µì§€ì‚¬í•­</a></li>
                <li><a href="community.html">ì»¤ë®¤ë‹ˆí‹°</a></li>
                <li><a href="results.html">ê²°ê³¼ì¡°íšŒ</a></li>
            </ul>
            <button class="nav-hamburger">â˜°</button>
        </div>
    </nav>

    <!-- Mobile Menu -->
    <div class="mobile-menu">
        <a href="index.html">ğŸ  í™ˆ</a>
        <a href="course.html">ğŸ—ºï¸ ì½”ìŠ¤</a>
        <a href="schedule.html">ğŸ“… ì¼ì •</a>
        <a href="registration.html">ğŸ“ ì°¸ê°€ì‹ ì²­</a>
        <a href="notices.html">ğŸ“¢ ê³µì§€ì‚¬í•­</a>
        <a href="community.html">ğŸ‘¥ ì»¤ë®¤ë‹ˆí‹°</a>
        <a href="results.html">ğŸ† ê²°ê³¼ì¡°íšŒ</a>
    </div>

    <!-- Cheer Marquee -->
    <div class="cheer-marquee">
        <div class="cheer-marquee-inner marquee"></div>
    </div>

    <!-- Main Content -->
    <main style="padding-top:120px; min-height:100vh;">
        <section style="max-width:800px; margin:0 auto; padding:40px 24px;">
            <h1 style="font-size:2.5rem; text-align:center; margin-bottom:16px;" class="gradient-text">ì»¤ë®¤ë‹ˆí‹°</h1>
            <p style="text-align:center; color:var(--slate-400); margin-bottom:48px;">ì¹´í’€ ë° ìˆ™ì†Œ ì •ë³´ë¥¼ ê³µìœ í•˜ì„¸ìš”.</p>

            <!-- Carpool Board -->
            <div class="glass-card" style="padding:24px; margin-bottom:32px;">
                <h2 style="font-size:1.25rem; margin-bottom:24px;">ğŸš— ì¹´í’€/ìˆ™ì†Œ ê²Œì‹œíŒ</h2>

                <div id="carpool-list" style="display:flex; flex-direction:column; gap:12px;">
                    <!-- Filled by JS -->
                </div>

                <button onclick="showPostForm()" style="margin-top:24px; width:100%; padding:16px; background:none; 
                               border:2px dashed var(--slate-600); border-radius:12px; 
                               color:var(--slate-400); cursor:pointer; transition:all 0.2s;"
                    onmouseover="this.style.borderColor='var(--neon-blue)'; this.style.color='var(--neon-blue)';"
                    onmouseout="this.style.borderColor='var(--slate-600)'; this.style.color='var(--slate-400)';">
                    + ê¸€ ì‘ì„±í•˜ê¸°
                </button>
            </div>

            <!-- Post Form (Hidden by default) -->
            <div id="post-form" class="glass-card" style="padding:24px; display:none;">
                <h2 style="font-size:1.25rem; margin-bottom:24px;">âœï¸ ìƒˆ ê¸€ ì‘ì„±</h2>
                <form onsubmit="submitPost(event)" style="display:flex; flex-direction:column; gap:16px;">
                    <div style="display:grid; grid-template-columns:1fr 1fr; gap:16px;">
                        <div>
                            <label
                                style="display:block; font-size:0.875rem; color:var(--slate-400); margin-bottom:8px;">ìœ í˜•</label>
                            <select name="type" required class="form-input">
                                <option value="ì¹´í’€">ğŸš— ì¹´í’€</option>
                                <option value="ìˆ™ì†Œ">ğŸ  ìˆ™ì†Œ</option>
                            </select>
                        </div>
                        <div>
                            <label
                                style="display:block; font-size:0.875rem; color:var(--slate-400); margin-bottom:8px;">ì¸ì›/ì¢Œì„</label>
                            <input type="number" name="seats" required class="form-input" placeholder="2" min="1">
                        </div>
                    </div>
                    <div>
                        <label
                            style="display:block; font-size:0.875rem; color:var(--slate-400); margin-bottom:8px;">ì¶œë°œì§€/ìœ„ì¹˜</label>
                        <input type="text" name="origin" required class="form-input" placeholder="ì„œìš¸ ê°•ë‚¨ì—­ / í•´ìš´ëŒ€ ë¯¼ë°•">
                    </div>
                    <div>
                        <label
                            style="display:block; font-size:0.875rem; color:var(--slate-400); margin-bottom:8px;">ì¼ì‹œ</label>
                        <input type="text" name="time" required class="form-input" placeholder="04/24 ì €ë…">
                    </div>
                    <div>
                        <label
                            style="display:block; font-size:0.875rem; color:var(--slate-400); margin-bottom:8px;">ì—°ë½ì²˜</label>
                        <input type="text" name="contact" required class="form-input" placeholder="010-0000-0000">
                    </div>
                    <div>
                        <label style="display:block; font-size:0.875rem; color:var(--slate-400); margin-bottom:8px;">ì‚­ì œ
                            ë¹„ë°€ë²ˆí˜¸</label>
                        <input type="password" name="password" required class="form-input" placeholder="ê¸€ ì‚­ì œ ì‹œ í•„ìš”">
                    </div>
                    <div style="display:flex; gap:12px;">
                        <button type="button" onclick="hidePostForm()" class="btn-secondary" style="flex:1;">ì·¨ì†Œ</button>
                        <button type="submit" class="btn-primary" style="flex:1;">ë“±ë¡í•˜ê¸°</button>
                    </div>
                </form>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div style="font-weight:700; color:#fff; margin-bottom:8px;">ë¶€ì‚° ê°ˆë§·ê¸¸ 100M</div>
        <div style="font-size:0.875rem;">Â© 2026 Busan Galmaetgil 100M. All rights reserved.</div>
    </footer>

    <!-- Bottom Navigation (Mobile) -->
    <nav class="bottom-nav">
        <div class="bottom-nav-inner">
            <a href="index.html"><span class="icon">ğŸ </span>í™ˆ</a>
            <a href="course.html"><span class="icon">ğŸ—ºï¸</span>ì½”ìŠ¤</a>
            <a href="schedule.html"><span class="icon">ğŸ“…</span>ì¼ì •</a>
            <a href="registration.html"><span class="icon">ğŸ“</span>ì‹ ì²­</a>
            <a href="results.html"><span class="icon">ğŸ†</span>ê²°ê³¼</a>
        </div>
    </nav>

    <!-- SOS Button -->
    <button class="sos-btn">SOS</button>

    <script src="js/app.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const carpool = await fetchData('getCarpool');
            renderCarpool(carpool);
        });

        function renderCarpool(items) {
            const list = document.getElementById('carpool-list');
            list.innerHTML = items.map(item => `
                <div style="padding:16px; background:var(--slate-800); border-radius:12px; 
                            display:flex; align-items:center; justify-content:space-between; flex-wrap:wrap; gap:12px;">
                    <div>
                        <span style="display:inline-block; padding:4px 8px; border-radius:6px; font-size:0.75rem; font-weight:700;
                                     background:${item.type === 'ì¹´í’€' ? 'var(--neon-blue)' : 'var(--purple-500)'};">
                            ${item.type === 'ì¹´í’€' ? 'ğŸš—' : 'ğŸ '} ${item.type}
                        </span>
                        <span style="font-weight:600; margin-left:8px;">${item.origin}</span>
                        <div style="font-size:0.875rem; color:var(--slate-400); margin-top:4px;">
                            ${item.time} Â· ${item.seats}ìë¦¬ Â· ${item.contact}
                        </div>
                    </div>
                </div>
            `).join('');
        }

        function showPostForm() {
            document.getElementById('post-form').style.display = 'block';
            document.getElementById('post-form').scrollIntoView({ behavior: 'smooth' });
        }

        function hidePostForm() {
            document.getElementById('post-form').style.display = 'none';
        }

        function submitPost(e) {
            e.preventDefault();
            if (USE_MOCK) {
                alert('âœ… ê¸€ì´ ë“±ë¡ë˜ì—ˆìŠµë‹ˆë‹¤!\n\n(Mock ëª¨ë“œ - ì‹¤ì œ ë°ì´í„°ëŠ” ì €ì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤)');
                hidePostForm();
            }
        }
    </script>
</body>

</html>